/* =================================================================
   PROYECTO: Gestión de Incidencias
   FICHERO: base.css
   DESCRIPCIÓN: Hoja de estilos principal.
   ALUMNOS: Noel Ballester Baños y Ángela Navarro Nieto 2º ASIR
   NOTA: Usamos variables CSS (--nombre) para facilitar cambios
         de color y diseño en toda la web desde un solo sitio.
=================================================================
*/

/* 1. VARIABLES GLOBALES (:root) */
:root {
    --radius-lg: 20px;
    --radius-md: 12px;
    --transition: 0.3s ease;
    --shadow-lg: 0 20px 60px rgba(0,0,0,.3);
    --shadow-md: 0 10px 30px rgba(0,0,0,.15);
    --font-stack: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --bg-main: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    
    /* Colores Semánticos */
    --color-text: #333;
    --color-surface: #fff;
    --border-color: #ddd;
    
    /* Colores de Estado */
    --color-success: #28a745;
    --color-danger: #dc3545;
    --color-warning: #ffc107;
}

/* 2. CONFIGURACIÓN GENERAL */
body {
    margin: 0; 
    padding: 30px; 
    min-height: 100vh; 
    font-family: var(--font-stack);
    display: flex; 
    align-items: flex-start; 
    justify-content: center; 
    background: var(--bg-main); 
    color: var(--color-text);
}

/* 3. CONTENEDORES */
.container, .panel, .card-list, .form-wrapper { 
    background: var(--color-surface); 
    border-radius: var(--radius-lg); 
    box-shadow: var(--shadow-lg); 
    width: 100%; 
    max-width: 1400px; 
    animation: fadeIn .5s ease-in; 
}
.panel.narrow, .login-container.panel { max-width: 480px; }

@keyframes fadeIn { 
    from { opacity: 0; transform: translateY(-20px); } 
    to { opacity: 1; transform: translateY(0); } 
}

/* 4. CABECERA */
.header { 
    padding: 40px; 
    text-align: center; 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: #fff; 
    position: relative; 
    border-radius: var(--radius-lg) var(--radius-lg) 0 0; 
}
.header h1 { margin: 0 0 10px; font-size: 2.4em; font-weight: 700; }

.nav { display: flex; gap: 15px; justify-content: center; margin-top: 15px; }
.nav a { 
    text-decoration: none; 
    padding: 8px 16px; 
    border-radius: 50px; 
    background: rgba(255,255,255,0.2); 
    color: #fff; 
    font-weight: 600; 
    transition: var(--transition); 
}
.nav a:hover { background: rgba(255,255,255,0.4); }

/* 5. CONTENIDO */
.content { padding: 40px; }
.content.wide { padding: 50px 60px; }

/* 6. GRID Y CARDS (CORREGIDO PARA MODO OSCURO) */
.grid { display: grid; gap: 20px; }
.grid.cards { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }

/* Estilo base de las tarjetas */
.card { 
    text-decoration: none; 
    display: block; 
    background: var(--color-surface); 
    border: 2px solid var(--border-color); 
    border-radius: 15px; 
    padding: 30px; 
    text-align: center; 
    /* CORRECCIÓN: Forzamos el color del texto definido en el tema */
    color: var(--color-text) !important; 
    transition: var(--transition); 
    position: relative; 
}
.card:hover { 
    transform: translateY(-10px); 
    box-shadow: var(--shadow-md); 
    border-color: var(--accent); 
}
/* Tarjeta principal (con degradado) */
.card.primary { 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    /* CORRECCIÓN: Forzamos texto blanco para la tarjeta primaria */
    color: #ffffff !important; 
    border: none; 
}

.card .icon { font-size: 3em; margin-bottom: 15px; display: block; }
.card .title { font-size: 1.3em; font-weight: 600; margin-bottom: 10px; }
.card .desc { font-size: .95em; opacity: .9; }


/* 7. TABLAS */
.table-wrapper { width: 100%; overflow-x: auto; margin-top: 20px; }
.table { width: 100%; border-collapse: collapse; font-size: .95em; display: table; }

.table thead { display: table-header-group; }
.table tbody { display: table-row-group; }
.table tr { display: table-row; }
.table td, .table th { 
    display: table-cell; 
    padding: 15px 10px; 
    text-align: left; 
    vertical-align: middle; 
    border-bottom: 1px solid var(--border-color); 
}
.table th { background: #f9f9f9; font-weight: 600; }
/* Fix para que los th en modo oscuro tengan fondo correcto si se define en tema */
.theme-dark .table th { background: var(--table-head-bg); }

.table tbody tr:hover { background: #f1f1f1; }
.theme-dark .table tbody tr:hover { background: var(--row-hover-bg); }

/* Estados */
.status-abierto, .status-open { color: var(--color-success); font-weight: bold; }
.status-cerrado, .status-closed { color: var(--color-danger); font-weight: bold; }
.status-proceso, .status-pending { color: var(--color-warning); font-weight: bold; }

/* Filas borradas */
.deleted-row td { background-color: #ffebeb !important; color: #a00; opacity: 0.8; }

/* 8. BOTONES */
.btn, button, input[type=submit] { font-family: inherit; cursor: pointer; }
.btn-primary { 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: #fff; border: none; padding: 15px 40px; border-radius: 50px; 
    font-size: 1.05em; font-weight: 600; box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
    transition: var(--transition); 
}
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

.btn-secondary { 
    background: #e2e8f0; color: #4a5568; padding: 12px 25px; border-radius: var(--radius-md); 
    text-decoration: none; transition: var(--transition); display: inline-block; 
}
.theme-dark .btn-secondary { background: var(--secondary-bg); color: var(--secondary-text); }
.btn-secondary:hover { background: #cbd5e0; }

/* 9. FORMULARIOS */
.form-group { margin-bottom: 25px; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 600; }
.form-group input[type=text], .form-group input[type=password], 
.form-group textarea, .form-group select, .search-box input { 
    width: 100%; padding: 12px 15px; border: 2px solid var(--border-color); 
    background: var(--input-bg); border-radius: 10px; font-size: 1em; 
    transition: var(--transition); color: var(--color-text); box-sizing: border-box;
}
.form-group input:focus, .search-box input:focus { 
    outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2); 
}
.form-group textarea { resize: vertical; min-height: 120px; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

/* 10. UTILIDADES */
.error-box { 
    background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); 
    color: #fff; padding: 15px; border-radius: 10px; margin-bottom: 25px; 
}
.pagination { margin-top: 25px; display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
.pagination a, .pagination strong { 
    padding: 8px 14px; border-radius: 8px; background: #e2e8f0; 
    text-decoration: none; color: #4a5568; font-weight: 600; 
}
.theme-dark .pagination a { background: var(--secondary-bg); color: var(--secondary-text); }

.pagination strong { background: #667eea; color: #fff; }
.pagination a:hover { background: #cbd5e0; }

footer { margin-top: 40px; text-align: center; font-size: .75em; opacity: .6; }

@media (max-width: 768px) { 
    .form-row { grid-template-columns: 1fr; } 
    .content, .content.wide { padding: 30px 25px; } 
    .header h1 { font-size: 2em; } 
    body { padding: 20px; } 
}